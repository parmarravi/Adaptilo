<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Adaptilo : Simple Demo</title>
        <link rel="stylesheet" href="css/reset.css"/>
        <link rel="stylesheet" href="css/main.css"/>
    </head>
    
    <body>
    
        <div id="fixed_header">        
            <h1>
                Adaptilo Simple Demo
            </h1>
        </div>
        
        <div class="block">
            <div class="card centered" id="connection_card">
            
                <div class="card_content">
                    
                    <table id="connection_settings">
                        <tr>
                            <td>
                                <label for="hostIp">Host Ip</label>
                            </td>
                            <td>
                                <input id="server_ip" name="server_ip" value="192.168.1.6">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label for="port">Port</label>
                            </td>
                            <td>
                                <input id="server_port" name="server_port" value="8887">
                            </td>
                        </tr>
                    </table> 
                </div>
                
                <button id="connection_button" type="button" class="card_button">Connection</button>            
                
            </div>
        </div>
    
        <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="js/main.js"></script>
        
        <script type="text/javascript">
            $(function() {
                // the DOM is now fully loaded.
                
                var platformConfiguration = {
                    onSocketOpen        :   function(event) {
                        console.log("[Web Socket] onSocketOpen -> " + event);
                    },
                    onSocketClose       :   function(event) {
                        console.log("[Web Socket] onSocketClose -> " + event);
                    },
                    onSocketMessage     :   function(event) {
                        console.log("[Web Socket] onSocketMessage -> " + event);
                    },
                    onSocketError       :   function(event) {
                        console.log("[Web Socket] onSocketError -> " + event);
                    }
                };
                
                var platform = new Adaptilo.platform();
                
                $("#connection_button").bind("click", function() {
                    var server_ip = $("#server_ip").val();
                    var server_port = $("#server_port").val();
                    platformConfiguration.server_ip = server_ip;
                    platformConfiguration.server_port = server_port;
                    platform.setConfiguration(platformConfiguration);
                    platform.connect();
                });
            });            
        </script>
    </boby>
    
</html>
    